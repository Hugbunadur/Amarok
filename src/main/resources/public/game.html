<!DOCTYPE html>
<html>
    <head>
    	 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>TicTacToe</title>
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap/3.3.0/css/bootstrap-theme.min.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script>

	$(document).ready(function(){
		$(function() {
 		$('#a1').click(function(){
   			$("#x1").attr('src',"gfx/o.png");
		return false;
		});
   		$('#a2').click(function(){
   			$("#x2").attr('src',"gfx/x.png");
 		
   		return false;
   		});
   		$('#a3').click(function(){
   			$("#x3").attr('src',"gfx/o.png");
		return false;
		});
   		$('#b1').click(function(){
   			$("#x4").attr('src',"gfx/x.png");
 		
   		return false;
   		});
   		$('#b2').click(function(){
   			$("#x5").attr('src',"gfx/o.png");
		return false;
		});
   		$('#b3').click(function(){
   			$("#x6").attr('src',"gfx/o.png");
 		
   		return false;
   		});
   		$('#c1').click(function(){
   			$("#x7").attr('src',"gfx/x.png");
		return false;
		});
   		$('#c2').click(function(){
   			$("#x8").attr('src',"gfx/o.png");
 		
   		return false;
   		});
   		$('#c3').click(function(){
   			$("#x9").attr('src',"gfx/x.png");
 		
   		return false;
   		
   		});
   		
});

	});
	</script>
    </head>

    <body>
    	<div class="header"><a href="index.html"><img alt="logo" src="gfx/logo.png"></a></div>
    	<!-- main container -->
        <div class="container">

			<h2>Play TicTacToe</h2>

	        <div class="board">

	        	<!-- first row -->
	        	<div class="square">
	        		<div class="content">
	                    <a href="#" id="a1"><img alt="X" class="scale" src="gfx/bg.png" id="00"/></a>
	        		</div>
	        	</div>
				<div class="square">
	        		<div class="content">
	                    <a href="#" id="a2"><img alt="X" class="scale" src="gfx/bg.png" id="01"/></a>
	        		</div>
	        	</div>
	        	<div class="square">
	        		<div class="content" >
	                    <a href="#" id="a3"><img alt="X" class="scale" src="gfx/bg.png" id="02"/></a>
	        		</div>
	        	</div>
	        	
				<!-- second row -->
					<div class="square">
	        		<div class="content">
	                    <a href="#" id="b1"><img alt="X" class="scale" src="gfx/bg.png" id="10"/></a>
	        		</div>
	        	</div>
				<div class="square">
	        		<div class="content">
	                    <a href="#" id="b2"><img alt="X" class="scale" src="gfx/bg.png" id="11"/></a>
	        		</div>
	        	</div>
	        	<div class="square">
	        		<div class="content" >
	                    <a href="#" id="b3"><img alt="X" class="scale" src="gfx/bg.png" id="12"/></a>
	        		</div>
	        	</div>

	        	<!-- third row -->
	        	<div class="square">
	        		<div class="content">
	                    <a href="#" id="c1"><img alt="X" class="scale" src="gfx/bg.png" id="20"/></a>
	        		</div>
	        	</div>
				<div class="square">
	        		<div class="content">
	                    <a href="#" id="c2"><img alt="X" class="scale" src="gfx/bg.png" id="21"/></a>
	        		</div>
	        	</div>
	        	<div class="square">
	        		<div class="content" >
	                    <a href="#" id="c3"><img alt="X" class="scale" src="gfx/bg.png" id="22"/></a>
	        		</div>
	        	</div>
	        	<form method="post" action="/computervscomputer" role="formComputer">
				<input type="submit" value="Start" class="btn" id="btn_compvscomp" /><br>
				</form>
	        </div>
	        <div id="output"></div>
		</div>

		<script>
		$(document).ready(function() {
		
		var form = $('formComputer');
		form.submit(function( event ) {
         
	                $.ajax({
	                    type: form.attr('method'),
	                    url: form.attr('action'),
	                    data: null
	                }).done(function(resultSet) {
	                   $('#output').html(resultSet).attr('class', 'alert alert-success');
	                   

		           var arr = resultSet.split(',');
		           var len = arr.length;
		           var x, y;

		           
		          for(int i = 0, i < len, i++){
				   if(i % 2 === 0){
				   // TODO handle X
				    x = arr[i];
				
				    $("#".concat(x)).attr('src',"gfx/x.png");

				   }
				   else{
				   // TODO handle O
				    y = arr[i];
				    $("#".concat(x)).attr('src',"gfx/x.png");
				   }
				   }


	                }).fail(function(Failes) {
	                    $('#output').html('FAILED').attr('class', 'alert alert-danger');
	                });
	               event.preventDefault();

		   });
		});
		
		</script>
    </body>
</html>        	
